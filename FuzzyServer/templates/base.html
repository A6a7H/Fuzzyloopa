<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title> "{{title}}" </title>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
</head>

<body>
  <div class="row">
    <div class="col">
      <div class="well1" style="color: rgb(234,241,245)"><h1>Fuzzyloop</h1></div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-10">
        <div class="well" style= "height: 620px; width: 1020px;">
          <div class="container">
            <canvas id="myChart"></canvas>
          </div>
          <script>
            let myChart = document.getElementById('myChart').getContext('2d');
            var predict = {{predic|safe}};
            var data_all = {{values|safe}};
            var label_data = {{labels|safe}};
            for (i = 0; i < 2800; i++) {
              if (predict[i] === -1) {
                  predict[i] = null;
              }
            }
            // Global Options
            Chart.defaults.global.defaultFontFamily = 'Lato';
            Chart.defaults.global.defaultFontSize = 18;
            Chart.defaults.global.defaultFontColor = '#777';

            let massPopChart = new Chart(myChart, {
              type:'line', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
              data:{
                labels: label_data,
                datasets:[
                  {
                  label:'Predicted',
                  data: predict,
                  backgroundColor:'green',
                  backgroundColor:[
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                    'rgba(255, 206, 86, 0.6)',
                    'rgba(75, 192, 192, 0.6)',
                    'rgba(153, 102, 255, 0.6)',
                    'rgba(255, 159, 64, 0.6)',
                    'rgba(255, 99, 132, 0.6)'
                  ],
                  borderWidth:1,
                  fill: false,
                  borderColor:'#05f000',
                  hoverBorderWidth:5,
                  hoverBorderColor:'#090cd2',
                  pointRadius: 0,
                }, {
                  label:'Align',
                  data: data_all,
                  backgroundColor:'green',
                  backgroundColor:[
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)'
                  ],
                  borderColor:'#0200f0',
                  hoverBorderWidth:10,
                  fill: false,
                  pointRadius: 0
                }
                ]
              },
              options:{
                responsive: true,
                title:{
                  display:true,
                  text:'Largest Cities In Massachusetts',
                  fontSize:25,
                  fontColor: '#0099cc'
                },
                scales: {
                    yAxes: [{
                        ticks: {
                          beginAtZero: true,
                          stepSize: 10 // this worked as expected
                        }
                      }],
                      xAxes: [{
                        ticks: {
                          maxTicksLimit: 10
                        }
                      }]
                },
                legend:{
                  display:true,
                  position:'right',
                  labels:{
                    fontColor:'#5275d2'
                  }
                },
                layout:{
                  padding:{
                    left:50,
                    right:0,
                    bottom:0,
                    top:0
                  }
                },
                tooltips:{
                  enabled:true,
                  mode: "index"
                }
              }
            });
          </script>
        </div>
    </div>
    <div class="col-md-2">
        <div class="row">
          <div class="col"></br> </div>
        </div>
        <div class="row">
            <div class="col-md-12">
              <form action="/predict_align/" method="post">
                <input type="hidden" name="index" value="1">
                <input type="submit" class="btn btn-primary btn-md" value="Align">
              </form>
            </div>
        </div>
        <div class="row">
          <div class="col"></br> </div>
        </div>
        <div class="row">
            <div class="col-md-12">
              <form action="/predict_McCensi/" method="post">
                <input type="hidden" name="index" value="2">
                <input type="submit" class="btn btn-primary btn-md" value="McCensi">
              </form>
            </div>
        </div>
    </div>
  </div>
  <!--<div class="row">-->
      <!--<div class="col-md-4">-->
          <!--<div class="well">6</div>-->
      <!--</div>-->
      <!--<div class="col-md-4">-->
          <!--<div class="well">7</div>-->
      <!--</div>-->
      <!--<div class="col-md-4">-->
          <!--<div class="well">8</div>-->
      <!--</div>-->
  <!--</div>-->
</body>
</html>